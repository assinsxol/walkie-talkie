<!doctype html>
<html lang="ar" dir="rtl" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="theme-color" content="#070b12" />
  <title>Mini Discord Voice โ Tactical</title>

  <!-- Firebase (Compat) -->
  <script defer src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

  <!-- Agora -->
  <script defer src="https://download.agora.io/sdk/release/AgoraRTC_N-4.20.2.js"></script>

  <!-- App CSS -->
  <link rel="stylesheet" href="styles.css" />
  <!-- App JS -->
  <script defer src="app.js"></script>
</head>

<body class="auth-locked">

  <!-- Topbar -->
  <header class="topbar">
    <div class="brand">
      <button id="menuBtn" class="btn ghost menuBtn" type="button">โฐ</button>
      <span>๐ก MiniDiscordVoice</span>
    </div>
    <div class="rightRow">
      <div class="pill">
        <span>PING</span> <b id="pingVal" class="mono pingVal">--</b> <span class="mono">ms</span>
      </div>
      <div class="pill">
        <span>NET</span>
        <div id="netTower" class="tower">
          <div class="bar b1"></div><div class="bar b2"></div><div class="bar b3"></div><div class="bar b4"></div>
        </div>
      </div>
      <div class="pill" title="ุงูุญุณุงุจ">
        <span class="mono">USER</span>
        <span id="topUserEmail" class="topUserEmail">โ</span>
      </div>
    </div>
  </header>

  <div class="app-body">
    <!-- Sidebar -->
    <nav id="drawer" class="drawer">
      <button class="tabBtn active" data-target="pageCall" type="button"><span class="tabIco">๐</span><span class="tabTxt">ุงูููุงููุฉ</span></button>
      <button class="tabBtn" data-target="pageFriends" type="button"><span class="tabIco">๐ฅ</span><span class="tabTxt">ุงูุฃุตุฏูุงุก</span></button>
      <button class="tabBtn" data-target="pageDiag" type="button"><span class="tabIco">๐งช</span><span class="tabTxt">ุงูุชุดุฎูุต</span></button>
      <button class="tabBtn" data-target="pageSettings" type="button"><span class="tabIco">โ๏ธ</span><span class="tabTxt">ุงูุฅุนุฏุงุฏุงุช</span></button>
      <div class="drawerSpacer"></div>
      <button id="btnLogout" class="tabBtn tabDanger" type="button"><span class="tabIco">๐ช</span><span class="tabTxt">ุฎุฑูุฌ</span></button>
    </nav>
    <div id="drawerOverlay" class="drawerOverlay"></div>

    <!-- Content -->
    <div class="content">

      <!-- PAGE: CALL -->
      <div id="pageCall" class="page active">
        <div class="ledStrip">
          <div class="ledGroup">
            <div id="ledPwr" class="led on" title="Power"></div>
            <div id="ledNet" class="led" title="Internet"></div>
            <div id="ledAgora" class="led" title="Voice Cloud"></div>
          </div>
          <div class="ledGroup">
            <div id="ledMic" class="led mic" title="Mic Active"></div>
            <div id="ledRec" class="led rec" title="Receiving"></div>
          </div>
        </div>

        <div class="screen">
          <div class="screenTL mono">CH: <span id="scrCh">--</span></div>
          <div class="screenTR" id="scrStat">READY</div>

          <canvas id="waveCanvas"></canvas>

          <div class="screenCenter">
            <div id="mainStatus" class="mainStatus">STANDBY</div>
            <div id="callTimer" class="mono callTimer">00:00:00</div>
          </div>
        </div>

        <div class="controls">
          <div class="card">
            <label class="secLabel">SECURE CHANNEL ID</label>
            <input id="channel" value="7788" placeholder="Enter Channel" class="channelInput">

            <div class="btnRow mt15">
              <button id="joinBtn" class="btn primary" type="button">โก ุชุดุบูู</button>
              <button id="leaveBtn" class="btn danger" type="button" disabled>๐ ุฎุฑูุฌ</button>
            </div>

            <div class="btnRow mt10">
              <button id="spkBtn" class="btn ghost" type="button">๐ ุณุจููุฑ</button>
              <button id="muteBtn" class="btn ghost" type="button" disabled>๐๏ธ ุงููุงูู</button>
            </div>

            <div class="fm-panel mt20">
              <div>
                <div class="fmTitle">โ๏ธ ุงูููุฉ ุงููุงูุฑุฉ</div>
                <div class="fmSub">ูุธุงู ุงูุณุญุจ ุงูุชููุงุฆู (2 ุฏูููุฉ)</div>
              </div>
              <label class="switch">
                <input id="fmSwitch" type="checkbox">
                <span class="slider"></span>
              </label>
            </div>

            <div class="btnRow mt20">
              <button id="videoAdBtn" class="btn goldDashed" type="button">๐ ููุฏูู ุฏุนู</button>
              <button id="copyBtn" class="btn ghost" type="button">๐ ูุณุฎ ุงูููุงุฉ</button>
            </div>
          </div>
        </div>
      </div>

      <!-- PAGE: FRIENDS -->
      <div id="pageFriends" class="page">
        <div class="card">
          <h3 class="hTitle">ุงูุฃุตุฏูุงุก</h3>

          <div class="friendsTop">
            <input id="friendInput" placeholder="ุจุญุซ ุจุงูุงุณู ุฃู ุงูุจุฑูุฏ" class="friendInput">
            <button id="friendSearchBtn" class="btn primary friendSearchBtn" type="button">ุจุญุซ</button>
          </div>

          <div id="friendsList" class="friendsList">
            ุฌุงุฑู ุงูุชุญููู...
          </div>
        </div>
      </div>

      <!-- PAGE: SETTINGS -->
      <div id="pageSettings" class="page">
        <div class="card">
          <h3 class="hTitle">ุงูุฅุนุฏุงุฏุงุช</h3>

          <div class="field">
            <label class="fieldLbl">ุงุณู ุงููุณุชุฎุฏู</label>
            <input id="displayName" class="fieldInp">
          </div>

          <div class="accountBox">
            <div class="accountLbl">ุญุณุงุจ Google</div>
            <div id="userEmail" class="accountEmail">โ</div>

            <div class="btnRow mt10">
              <button id="loginBtn" class="btn primary tiny" type="button">ุชุณุฌูู ุงูุฏุฎูู</button>
              <button id="logoutBtn2" class="btn danger tiny" type="button">ุชุณุฌูู ุงูุฎุฑูุฌ</button>
            </div>
          </div>

          <label class="advLbl">ุฎูุงุฑุงุช ูุชูุฏูุฉ</label>
          <div class="btnRow mt5">
            <button class="btn ghost" type="button" data-soon="1">ูุณุญ ุงููุงุด</button>
            <button class="btn ghost" type="button" data-soon="1">ุญูู ุงูุชุทุจูู</button>
          </div>
        </div>
      </div>

      <!-- PAGE: DIAGNOSTICS -->
      <div id="pageDiag" class="page">
        <div class="card">
          <h3 class="hTitle">ุงูุชุดุฎูุต (Diagnostics)</h3>
          <div class="diag">
            <div>> APP_VERSION: V5.0</div>
            <div>> AGORA_SDK: DETECTED</div>
            <div>> FIREBASE: <span id="diagFbStatus">CHECKING...</span></div>
            <br>
            <div>> LAST PING: <span id="diagPing">--</span> ms</div>
            <div>> PACKET LOSS: <span id="diagLoss">0</span>%</div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Overlays -->
  <div id="rebootOverlay" class="overlay">
    <div class="modal">
      <h2 class="rebootTitle">REBOOTING...</h2>
      <div id="rebootCount" class="rebootCount">6</div>
      <div class="rebootSub">ูุชู ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุชููุงุฆูุงู</div>
    </div>
  </div>

  <div id="incomingOverlay" class="overlay">
    <div class="modal">
      <h3 class="incomingTitle">๐ ููุงููุฉ ูุงุฑุฏุฉ</h3>
      <p id="incomingFrom" class="incomingFrom">...</p>
      <div class="btnRow">
        <button id="acceptBtn" class="btn primary" type="button">ูุจูู</button>
        <button id="rejectBtn" class="btn danger" type="button">ุฑูุถ</button>
      </div>
    </div>
  </div>

  <!-- AUTH GATE (LOCK SCREEN) -->
  <div id="authGate" class="overlay show">
    <div class="modal">
      <div class="authTitle">๐ ููุฒู ุชุณุฌูู ุงูุฏุฎูู</div>
      <div class="authSub">ูุง ูููู ุงุณุชุฎุฏุงู ุงูุชุทุจูู ุฅูุง ุนุจุฑ Google</div>

      <div class="authBox">
        โ ุณุฌู ุฏุฎูู ุจุญุณุงุจ Google ุซู ูููุชุญ ุงูุชุทุจูู ุชููุงุฆูุงู.<br/>
        โ๏ธ ูุงุฒู ุชูุชุญ ุงูุตูุญุฉ ุนุจุฑ <b>HTTPS</b> (Hosting) ูููุณ <span class="mono">file://</span>.
      </div>

      <div class="btnRow">
        <button id="authLoginBtn" class="btn primary" type="button">๐ต ุชุณุฌูู ุงูุฏุฎูู ุจุฌูุฌู</button>
        <button id="authReloadBtn" class="btn ghost" type="button">๐ ุชุญุฏูุซ</button>
      </div>

      <div id="authEmail" class="authEmail"></div>
      <div id="authErr" class="authErr"></div>
    </div>
  </div>

  <!-- Hidden elements -->
  <input id="presenceRoom" type="hidden" value="call_room1">
  <input id="token" type="hidden">

</body>
</html>
